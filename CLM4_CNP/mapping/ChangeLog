================================================================================
SVN $Id: ChangeLog 33817 2012-01-17 18:33:43Z erik $
SVN $URL: https://svn-ccsm-models.cgd.ucar.edu/tools/mapping/gen_domain/trunk_tags/gen_domain_120117/ChangeLog $
================================================================================
This file describes what tags were created and why
================================================================================

Originator: erik
Date: Jan 17 2012
Model: gen_domain
Version: gen_domain_120117
One-line summary: Remove some of the gen_domain_111221 changes

The changes in gen_domain_111221 forced the clm testing for
gen_domain to fail. I removed some of these changes so that
the CLM testing would still work. I kept some of the simplifications
in the code and Makefile, but got it so that it should still work
with the CLM testing. This also means that the build files for
gen_domain is different than the build files for other CLM tools. As
long as the build works similarly this should NOT be a problem moving
forward. But, it does mean maintaining slighlty different builds which is
always awkward, error-prone and consumes more time.

A  +    src/Filepath ------- Add the Filepath back in just pointing to ".".
           The clm tests overwrite this with a different location so that
           the build can be done in a different directory.
M       src/Makefile ------- Use the Filepath
M       src/gen_domain.F90 - Add back in hostname, but don't fail if it isn't set.
M       README ------------- Update instructions
A       README.testing ----- Add a file to describe the CLM testing
          requirements.

================================================================================

Originator: kauff
Date: Jan 04 2012
Model: gen_domain
Version: gen_domain_120104
One-line summary: added atm -> ocn patch mapping

M       src/gen_map.sh

================================================================================

Originator: mvertens
Date: Dec 26 2011
Model: gen_domain
Version: gen_domain_111226
One-line summary: fixed calculation of ocean fraction for land/ocean on same grid

M       src/gen_domain.F90

================================================================================
	
Originator: mvertens
Date: Dec 22 2011
Model: gen_domain
Version: gen_domain_111222
One-line summary: correct help command for gen_maps.sh

M       gen_maps.sh
	
================================================================================
	
Originator: mvertens
Date: Dec 21 2011
Model: gen_domain
Version: gen_domain_111221a
One-line summary: put in date in filename and fixed usercomment in gen_domain output

M       src/gen_domain.F90
M       README

================================================================================
	
Originator: mvertens
Date: Dec 21 2011
Model: gen_domain
Version: gen_domain_111221
One-line summary: simplified make procedure for gen_domain

D       src/shr_sys_mod.F90
D       src/shr_log_mod.F90
D       src/Mkdepends
D       src/Srcfiles
D       src/Filepath
D       src/Macros.custom
M       src/Makefile
M       src/gen_domain.F90
D       src/shr_kind_mod.F90
D       src/README.filecopies
M       README
	
================================================================================
	
Originator: mvertens
Date: Nov 22 2011
Model: gen_domain
Version: gen_domain_111122
One-line summary: added functionality to write out 3 files
	domain.lnd.<atmgrid_ocnmask>.nc
	domain.ocn.<atmgrid_ocnmask>.nc
	domain.ocn.<ocngrid>

This now enables all the creation of datasets needed to run F compsets with
everyone on the same grid - and B compsets with ocn/atm on different grids
	
M       gen_maps.sh
M       src/gen_domain.F90
	
================================================================================
	
Originator: mvertens
Date: Nov 10 2011
Model: gen_domain
Version: gen_domain_111110
One-line summary: added capability to generate all coupler mapping files
	
================================================================================
Originator: mvertens
Date: Nov 09 2011
Model: gen_domain
Version: gen_domain_111109
One-line summary: fixed arguments for gen_domain_map.sh
	
M       gen_domain_map.sh
	
================================================================================
Originator: mvertens
Date: Nov 08 2011
Model: gen_domain
Version: gen_domain_111108
One-line summary: fixed problem with outputting 2d field for ocn
	
M       src/gen_domain.F90
	
================================================================================
Originator: mvertens
Date: Nov 07 2011
Model: gen_domain
Version: gen_domain_111107
One-line summary: fixed compiler bug
	
M       src/gen_domain.F90
	
================================================================================
Originator: mvertens
Date: Nov 06 2011
Model: gen_domain
Version: gen_domain_111106
One-line summary: added gen_domain_map.sh and made gen_domain command line driven
	
Files removed	
D       gen_domain.namelist
	
Files added	
A       gen_domain_map.sh
	
Files changed	
M       src/gen_domain.F90
M       ChangeLog
M       README
M       src/gen_domain.F90

Workflow is to use
(1) gen_domain_map to generate output mapping file using input SCRIP grid files
(2) gen_domain to use map file from (1) to generate land and oceandomain files
	
================================================================================
Originator: mvertens
Date: Oct 25 2011
Model: gen_domain
Version: gen_domain_111025
One-line summary: Add capability to check on units of input grid and transform
	          to output degrees accordingly
	
M       src/gen_domain.F90
M       gen_domain.namelist
	
Also added namelist that was used for mpas mapping	
	
================================================================================
	
Originator: mvertens
Date: Oct 04 2011
Model: gen_domain
Version: gen_domain_111004
One-line summary: Add capability to write out 2d output if mapping file rank is 2d
	
Changes made: 
   As an example - needed for creating a fv domain when mapping an mpas 120km mask
   to a fv 1.9x2.5 grid

 src/gen_domain.F90
	
================================================================================
	
Originator: erik
Date: Nov 02 2011
Model: gen_domain
Version: gen_domain_111102
One-line summary: Toggle Compiler_optimized attribute
	
M       src/Makefile - Toggle OPT to on when compiler optimized
	
================================================================================
	
Originator: erik
Date: Sep 05 2011
Model: gen_domain
Version: gen_domain_110905c
One-line summary: Add Compiler_Optimized attribute, and enable ability to read _src/_dst or _ocn/_atm
                  grid_file attributes from parent mapping file
Changes made: 

 src/gen_domain.F90
================================================================================

Originator: erik
Date: Sep 05 2011
Model: gen_domain
Version: gen_domain_110905b
One-line summary: Make sure frac_min/frac_max is initialized to something before used/remove tabs
Changes made: 

 src/gen_domain.F90

================================================================================

Originator: erik
Date: Sep 05 2011
Model: gen_domain
Version: gen_domain_110905
One-line summary: Use glade path for sample namelist
Changes made: 

M       gen_domain.namelist ---- Use glade path on bluefire rather than /fis/cgd path
>>>>>>> Use common makefile for clm tools, and a custom macros for gen_domain specific settings
M       src/Makefile ----------- On AIX/bluefire update to using NetCDF4.1.3
A       src/Macros.custom


================================================================================

Originator: erik
Date: Aug 19 2011
Model: gen_domain
Version: gen_domain_110819
One-line summary: Work on Makefile
Changes made: 

Update Makefile to similar to clm4_0_34 tools. Get setting of FC working correctly.

M       src/Makefile

================================================================================

Originator: erik
Date: Jul 16 2011
Model: gen_domain
Version: gen_domain_110716
One-line summary: Move source to src directory
Changes made: 

>>>>>> Rename files to src directory
D       Mkdepends
D       Srcfiles
D       Filepath
D       Makefile
D       gen_domain.F90
D       gen_domain.nml -- Rename to gen_domain.namelist

A       src
A  +    src/Mkdepends
A  +    src/Srcfiles
A  +    src/Filepath
A  +    src/gen_domain.F90 -- Use shr_ code, add hostname
                              add error checking, change CCSM => CESM
A  +    src/Makefile -------- Bring updates from latest clm/tools
                              makefile over, make exe in directory above.

>>>>>>>>> New files copies of csm_share/shr code
>>>>>>>>> This helps enable running gen_domain on other platforms
A       src/shr_sys_mod.F90
A       src/shr_log_mod.F90
A       src/shr_kind_mod.F90
A       src/README.filecopies -- Document about copied csm_share files

A  +    gen_domain.namelist ---- renamed

================================================================================

Originator: mvertens
Date: Wed Mar 30 21:56:01 MDT 2011
Model: gen_domain
Version: gen_domain_110330
One-line summary:
Changes made: put in new make process 
and fixed problems in gen_domain related to reading in cubed sphere mapping files

M       gen_domain.nml
M       ChangeLog
D       make.AIX.csh
A       Mkdepends
A       Srcfiles
A       Filepath
M       README
M       gen_domain.F90
D       make.IRIX64.csh
A       Makefile

================================================================================
	
Originator: mvertens
Date: Mon Mar 28 18:39:47 MDT 2011
Model: gen_domain
Version: gen_domain_110328
One-line summary:
Changes made: added support for non lat/lon grid

- for non lat/lon grid nj = 1 and will not appear in the input mapping file

================================================================================
	
Originator: kauff
Date: Mon Oct  1 16:18:23 MDT 2007
Model: gen_domain
Version: gen_domain_071001
One-line summary:
Changes made: add pole-fix option, efficiency/speed improvements, reports frac range

- add fv pole-fix option 
- efficiency/speed improvements (non-error causing bug wrt where statement inside do-loop)
- reports frac error, always completes regardless of frac error, error namelist value not used

================================================================================

Originator: kauff
Date: 2007-08-13
Model: gen_domain
Version:  gen_domain_051011
One-line summary: 1st SVN tag, identical to CVS $Name: gen_domain_051011 $
Changes made: 

- import gen_domain from CVS to SVN 
- identical to CVS tag $Name: gen_domain_051011 $

================================================================================
